<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta id="meta" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Rolling Sky Christmas</title>
    <script>var IMG_MAP = {"img/20161225/001.jpg":"img/20161225/001.6e94548c.jpg","img/20161225/001@1.5x.jpg":"img/20161225/001@1.5x.35d8ceef.jpg","img/20161225/001@1x.jpg":"img/20161225/001@1x.d954fb97.jpg","img/20161225/001@2x.jpg":"img/20161225/001@2x.99766c80.jpg","img/20161225/001@3x.jpg":"img/20161225/001@3x.1180cd7e.jpg","img/20161225/002-cn.png":"img/20161225/002-cn.3d18504e.png","img/20161225/002-cn@1.5x.png":"img/20161225/002-cn@1.5x.3c734aa6.png","img/20161225/002-cn@1x.png":"img/20161225/002-cn@1x.1bc90889.png","img/20161225/002-cn@2x.png":"img/20161225/002-cn@2x.fff456f9.png","img/20161225/002-cn@3x.png":"img/20161225/002-cn@3x.3d18504e.png","img/20161225/002-de.png":"img/20161225/002-de.955966e4.png","img/20161225/002-de@1.5x.png":"img/20161225/002-de@1.5x.791d80af.png","img/20161225/002-de@1x.png":"img/20161225/002-de@1x.9a8e30f5.png","img/20161225/002-de@2x.png":"img/20161225/002-de@2x.a6744232.png","img/20161225/002-de@3x.png":"img/20161225/002-de@3x.955966e4.png","img/20161225/002-en.png":"img/20161225/002-en.62a70e7d.png","img/20161225/002-en@1.5x.png":"img/20161225/002-en@1.5x.699deaae.png","img/20161225/002-en@1x.png":"img/20161225/002-en@1x.1d3f047a.png","img/20161225/002-en@2x.png":"img/20161225/002-en@2x.eaec5b6b.png","img/20161225/002-en@3x.png":"img/20161225/002-en@3x.62a70e7d.png","img/20161225/002-es.png":"img/20161225/002-es.f63e3e49.png","img/20161225/002-es@1.5x.png":"img/20161225/002-es@1.5x.c5dc2b0a.png","img/20161225/002-es@1x.png":"img/20161225/002-es@1x.856b3925.png","img/20161225/002-es@2x.png":"img/20161225/002-es@2x.b0d31a69.png","img/20161225/002-es@3x.png":"img/20161225/002-es@3x.a0820e0a.png","img/20161225/002-fr.png":"img/20161225/002-fr.0705dc52.png","img/20161225/002-fr@1.5x.png":"img/20161225/002-fr@1.5x.144850af.png","img/20161225/002-fr@1x.png":"img/20161225/002-fr@1x.44b79064.png","img/20161225/002-fr@2x.png":"img/20161225/002-fr@2x.99767653.png","img/20161225/002-fr@3x.png":"img/20161225/002-fr@3x.0705dc52.png","img/20161225/002-it.png":"img/20161225/002-it.02880ec6.png","img/20161225/002-it@1.5x.png":"img/20161225/002-it@1.5x.57df2b0c.png","img/20161225/002-it@1x.png":"img/20161225/002-it@1x.25566d73.png","img/20161225/002-it@2x.png":"img/20161225/002-it@2x.9d7c2713.png","img/20161225/002-it@3x.png":"img/20161225/002-it@3x.02880ec6.png","img/20161225/002-ja.png":"img/20161225/002-ja.5f993ea6.png","img/20161225/002-ja@1.5x.png":"img/20161225/002-ja@1.5x.3655ea80.png","img/20161225/002-ja@1x.png":"img/20161225/002-ja@1x.dac4daa1.png","img/20161225/002-ja@2x.png":"img/20161225/002-ja@2x.fb2e017e.png","img/20161225/002-ja@3x.png":"img/20161225/002-ja@3x.5f993ea6.png","img/20161225/002-ko.png":"img/20161225/002-ko.33138d77.png","img/20161225/002-ko@1.5x.png":"img/20161225/002-ko@1.5x.7323ccb5.png","img/20161225/002-ko@1x.png":"img/20161225/002-ko@1x.5e33e235.png","img/20161225/002-ko@2x.png":"img/20161225/002-ko@2x.f09ec1d7.png","img/20161225/002-ko@3x.png":"img/20161225/002-ko@3x.33138d77.png","img/20161225/002-nl.png":"img/20161225/002-nl.9f3e53a2.png","img/20161225/002-nl@1.5x.png":"img/20161225/002-nl@1.5x.5478c5ed.png","img/20161225/002-nl@1x.png":"img/20161225/002-nl@1x.5db9be6a.png","img/20161225/002-nl@2x.png":"img/20161225/002-nl@2x.67752707.png","img/20161225/002-nl@3x.png":"img/20161225/002-nl@3x.9f3e53a2.png","img/20161225/002-ru.png":"img/20161225/002-ru.711e1528.png","img/20161225/002-ru@1.5x.png":"img/20161225/002-ru@1.5x.43fd77c1.png","img/20161225/002-ru@1x.png":"img/20161225/002-ru@1x.075fc377.png","img/20161225/002-ru@2x.png":"img/20161225/002-ru@2x.f005e2f3.png","img/20161225/002-ru@3x.png":"img/20161225/002-ru@3x.711e1528.png","img/20161225/002-tw.png":"img/20161225/002-tw.92a8b4d7.png","img/20161225/002-tw@1.5x.png":"img/20161225/002-tw@1.5x.b21f0db1.png","img/20161225/002-tw@1x.png":"img/20161225/002-tw@1x.237f7066.png","img/20161225/002-tw@2x.png":"img/20161225/002-tw@2x.750ba46b.png","img/20161225/002-tw@3x.png":"img/20161225/002-tw@3x.92a8b4d7.png","img/20161225/003.png":"img/20161225/003.075185ef.png","img/20161225/003@1.5x.png":"img/20161225/003@1.5x.a6f4ee14.png","img/20161225/003@1x.png":"img/20161225/003@1x.8b3651ce.png","img/20161225/003@2x.png":"img/20161225/003@2x.f92774a7.png","img/20161225/003@3x.png":"img/20161225/003@3x.075185ef.png","img/20161225/004.jpg":"img/20161225/004.d0c6b0c4.jpg","img/20161225/004@1.5x.jpg":"img/20161225/004@1.5x.443902b1.jpg","img/20161225/004@1x.jpg":"img/20161225/004@1x.7f5fd3b5.jpg","img/20161225/004@2x.jpg":"img/20161225/004@2x.b6c0605a.jpg","img/20161225/004@3x.jpg":"img/20161225/004@3x.06829bc8.jpg","img/20161225/005.jpg":"img/20161225/005.2eb33696.jpg","img/20161225/005@1.5x.jpg":"img/20161225/005@1.5x.22b88a1c.jpg","img/20161225/005@1x.jpg":"img/20161225/005@1x.35ad0669.jpg","img/20161225/005@2x.jpg":"img/20161225/005@2x.c5847f02.jpg","img/20161225/005@3x.jpg":"img/20161225/005@3x.09977c84.jpg","img/20161225/006.jpg":"img/20161225/006.18ac3ce5.jpg","img/20161225/006@1.5x.jpg":"img/20161225/006@1.5x.861d973e.jpg","img/20161225/006@1x.jpg":"img/20161225/006@1x.a4d20158.jpg","img/20161225/006@2x.jpg":"img/20161225/006@2x.82de5cd7.jpg","img/20161225/006@3x.jpg":"img/20161225/006@3x.3900e447.jpg","img/20161225/007.png":"img/20161225/007.161d34b9.png","img/20161225/007@1.5x.png":"img/20161225/007@1.5x.714e6cdd.png","img/20161225/007@1x.png":"img/20161225/007@1x.7ca9a907.png","img/20161225/007@2x.png":"img/20161225/007@2x.fd62a85b.png","img/20161225/007@3x.png":"img/20161225/007@3x.e3c1e614.png"};</script>
<script>
        window.onresize = (function () {
            var fontSize = document.documentElement.clientWidth / 360 * 16;
            document.documentElement.style.fontSize = fontSize + 'px';
            return arguments.callee;
        })();
    </script>
    <style>
body,p,h1,h2,h3,h4,h5{margin:0}ul,ol,form{margin:0;padding:0}li{list-style:none}img{border:0;vertical-align:top}a{text-decoration:none;color:#000}a:hover{text-decoration:none}table{border-collapse:collapse}td{padding:0}input,button,select,textarea{outline:0}iframe{border:0}a{-webkit-tap-highlight-color:rgba(0,0,0,0)}
</style>
    <style>
html,body{font-family:Arial,"Microsoft YaHei"}#main{width:100%;height:40rem;background:url(img/20161225/001.6e94548c.jpg) no-repeat 0 0 / cover}#title{width:100%;margin-top:1.875rem;height:5.3125rem}#core{width:16.3125rem;height:16.3125rem;margin:.625rem auto 0;background-color:#0c0c2a;border:.0625rem solid #49a2d0;position:relative}#core-main{width:100%;height:100%;position:relative;background:#051438;box-sizing:border-box;box-shadow:0 .3rem 3rem #2f1c5b;font-size:0;margin-left:auto;margin-right:auto}#core-main .item{top:0;left:0;position:absolute;transition:transform .2s;-webkit-transition:transform .2s;background-size:16.3125rem 16.3125rem;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;perspective:1000}#core-main.core-main-1 .item{background-image:url(img/20161225/004.d0c6b0c4.jpg)}#core-main.core-main-2 .item{background-image:url(img/20161225/005.2eb33696.jpg)}#core-main.core-main-3 .item{background-image:url(img/20161225/006.18ac3ce5.jpg)}#core-main .item{}#core-main .item-cur{z-index:1}#core-main .item-dragging{transition:none;-webkit-transition:none}#core-main .item-dragging:after{top:0;left:0;right:0;bottom:0;opacity:.4;content:'';background:#fff;position:absolute}#core-tip{position:absolute;right:-1.875rem;bottom:0;font-size:1.25rem;color:#ffdc7e}#close{width:3.75rem;height:3.75rem;position:absolute;top:0;left:0}#start{margin-top:1.25rem;text-align:center;color:#f7c234}#start a{position:relative;display:inline-block;width:11.8125rem;height:3rem;color:#a94222;line-height:3rem;font-size:1.75rem;border-radius:.5rem;background:url(img/20161225/003.075185ef.png) no-repeat -13rem 0 / 27.6875rem 7.25rem;-webkit-animation-timing-function:ease-in-out;-webkit-animation-name:breathe;-webkit-animation-duration:1000ms;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:alternate}@-webkit-keyframes breathe{0%{box-shadow:0 .0625rem .125rem rgba(255,255,255,.1)}100%{box-shadow:0 .0625rem 1.875rem rgba(59,255,255,1)}}#start .tomorrow{color:#474747;background-position:-13rem -4.25rem;-webkit-animation-name:none}#start .count-down{}#start .red-point{position:absolute;width:1.625rem;height:1.625rem;top:-.5rem;right:-.5rem;line-height:1.5rem;text-align:center;color:#fff;font-size:1.125rem;background:url(img/20161225/003.075185ef.png) no-repeat -26.125rem 0 / 27.6875rem 7.25rem}#start p{display:none;line-height:1.5}#start .prize-tip{margin-top:.3125rem}#start .prize-tip i{display:inline-block;width:1.625rem;height:1.625rem;background:url(img/20161225/007.161d34b9.png) no-repeat 0 0 / 4.875rem 1.625rem;margin-bottom:-.5rem;margin-right:-.125rem}#start .prize-logo-1 i{background-position:0 0}#start .prize-logo-2 i{background-position:-1.625rem 0}#start .prize-logo-3 i{background-position:-3.25rem 0}#start .res-tip{margin-top:.3125rem;line-height:1.2}#facebook{margin-top:1.25rem;text-align:center;color:#f7c234}#facebook a{display:inline-block;width:11.75rem;height:2.875rem;background:url(img/20161225/003.075185ef.png) no-repeat 0 0 / 27.6875rem 7.25rem}#facebook p{line-height:1.5}@media only screen and (min-device-pixel-ratio:1) and (max-device-pixel-ratio:1.4),only screen and (-Webkit-min-device-pixel-ratio:1) and (-Webkit-max-device-pixel-ratio:1.4){#main{background-image:url(img/20161225/001@1x.d954fb97.jpg)}#core-main.core-main-1 .item{background-image:url(img/20161225/004@1x.7f5fd3b5.jpg)}#core-main.core-main-2 .item{background-image:url(img/20161225/005@1x.35ad0669.jpg)}#core-main.core-main-3 .item{background-image:url(img/20161225/006@1x.a4d20158.jpg)}#start a,#start .red-point,#facebook a{background-image:url(img/20161225/003@1x.8b3651ce.png)}}@media only screen and (min-device-pixel-ratio:1.5) and (max-device-pixel-ratio:1.9),only screen and (-Webkit-min-device-pixel-ratio:1.5) and (-Webkit-max-device-pixel-ratio:1.9){#main{background-image:url(img/20161225/001@1.5x.35d8ceef.jpg)}#core-main.core-main-1 .item{background-image:url(img/20161225/004@1.5x.443902b1.jpg)}#core-main.core-main-2 .item{background-image:url(img/20161225/005@1.5x.22b88a1c.jpg)}#core-main.core-main-3 .item{background-image:url(img/20161225/006@1.5x.861d973e.jpg)}#start a,#start .red-point,#facebook a{background-image:url(img/20161225/003@1.5x.a6f4ee14.png)}}@media only screen and (min-device-pixel-ratio:2) and (max-device-pixel-ratio:2.9),only screen and (-Webkit-min-device-pixel-ratio:2) and (-Webkit-max-device-pixel-ratio:2.9){#main{background-image:url(img/20161225/001@2x.99766c80.jpg)}#core-main.core-main-1 .item{}#core-main.core-main-2 .item{background-image:url(img/20161225/005@2x.c5847f02.jpg)}#core-main.core-main-3 .item{background-image:url(img/20161225/006@2x.82de5cd7.jpg)}#start a,#start .red-point,#facebook a{background-image:url(img/20161225/003@2x.f92774a7.png)}}@media only screen and (min-device-pixel-ratio:3),only screen and (-Webkit-min-device-pixel-ratio:3){#main{background-image:url(img/20161225/001@3x.1180cd7e.jpg)}#core-main.core-main-1 .item{background-image:url(img/20161225/004@3x.06829bc8.jpg)}#core-main.core-main-2 .item{background-image:url(img/20161225/005@3x.09977c84.jpg)}#core-main.core-main-3 .item{background-image:url(img/20161225/006@3x.3900e447.jpg)}#start a,#start .red-point,#facebook a{background-image:url(img/20161225/003@3x.075185ef.png)}}
</style>
</head>
<body>
    <div id="main" style="overflow: hidden;">
        <div id="title" class="res-img" data-dir="img/20161225/" data-basename="002" data-extname=".png" data-lang="true"></div>

        <div id="core">
            <div id="core-main"></div>
            <div id="core-tip">2/3</div>
        </div>

        <div id="start">
            <a href="javascript:;">
                <span class="btn-text"></span>
                <span class="red-point"></span>
            </a>
            <p class="prize-tip">
                <span class="t1">Win the prize：</span>
                <span class="t2"><i></i>x15</span>
            </p>
            <p class="res-tip"></p>
        </div>
        <div id="facebook">
            <a href="javascript:;"></a>
            <p></p>
        </div>

        <a href="javascript:;" id="close"></a>
    </div>
<!--<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-57483729-14', 'auto');
    ga('send', 'pageview');
</script>--><script>function ga() {}</script>
<script>
!function(){function t(e){this.ele=e,this.items=null,this.timer=null,this.curIndex=null,this.curPosition=null,this.onPass=null,this.onFail=null,this.onCountdown=null;var s=this;e.addEventListener("touchstart",function(e){s.status===t.STATUS_PLAYING&&e.preventDefault()}),document.addEventListener("touchmove",function(t){s.handleDragMove(t)}),document.addEventListener("mousemove",function(t){s.handleDragMove(t)}),document.addEventListener("touchend",function(t){s.handleDragEnd(t)}),document.addEventListener("mouseup",function(t){s.handleDragEnd(t)})}function e(t,e){this.puzzle=t,this.index=e,this.initialIndex=e,this.offsetX=0,this.offsetY=0,this.current=!1,this.updateElement()}t.STATUS_READY=0,t.STATUS_PLAYING=1,t.STATUS_FAILED=2,t.STATUS_PASS=3,t.prototype.init=function(s,i,n){var o=this.ele,r=this.items=[];this.rows=s||this.rows,this.cols=i||this.cols,this.timeout=n||this.timeout,this.restSeconds=this.timeout,this.status=t.STATUS_READY,this.curIndex=null,clearInterval(this.timer),o.innerHTML="";for(var h=0,u=this.rows*this.cols;u>h;++h){var c=new e(this,h);r.push(c),o.appendChild(c.ele)}},t.prototype.start=function(){var e=this,s=this.onCountdown;this.restSeconds=this.timeout,e.reset(),clearInterval(e.timer),setTimeout(function(){e.reset(),setTimeout(function(){e.reset(),e.status=t.STATUS_PLAYING},300)},300),e.timeout&&(s&&s(e.restSeconds),e.timer=setInterval(function(){s&&s(--e.restSeconds),e.checkResult()},1e3))},t.prototype.reset=function(){var t=this.items;t.sort(function(){return Math.random()-.5}),t.forEach(function(t,e){t.setIndex(e)})},t.prototype.checkResult=function(){var e=this.onFail,s=this.onPass,i=this.getSequence();if(i.join(",")===i.concat().sort().join(","))this.status=t.STATUS_PASS,s&&s(),clearInterval(this.timer);else if(this.timeout>0&&this.restSeconds<=0){e&&e(),clearInterval(this.timer),this.status=t.STATUS_FAILED;var n=this.items;n.forEach(function(t){t.setOffset(0,0)})}},t.prototype.swapItem=function(t,e){var s=this.items,i=s[t],n=s[e];s[t]=n,s[e]=i,i.setIndex(e),n.setIndex(t)},t.prototype.getSequence=function(){return this.items.map(function(t){return t.initialIndex})},t.prototype.getBounds=function(){return this.ele.getBoundingClientRect()},t.prototype.handleDragStart=function(e,s){if(this.status===t.STATUS_PLAYING){s.touches&&(s=s.touches[0]);var i=this.items,n=i[e];this.curIndex=e,this.curPosition=[s.clientX,s.clientY],i.forEach(function(t){t.setCurrent(!1)}),n.setCurrent(!0)}},t.prototype.handleDragMove=function(e){var s=this.curIndex;if(this.status===t.STATUS_PLAYING&&null!==s){e.touches&&(e=e.touches[0]);var i=this.items,n=this.curPosition,o=i[s];o.setOffset(e.clientX-n[0],e.clientY-n[1])}},t.prototype.handleDragEnd=function(e){var s=this.curIndex;if(this.status===t.STATUS_PLAYING&&null!==s){e.changedTouches&&(e=e.changedTouches[0]);var i=e.clientX,n=e.clientY,o=this.rows,r=this.cols,h=this.getBounds(),u=i-h.left,c=n-h.top,a=h.width/r,l=h.height/o,d=Math.ceil(c/l)-1,f=Math.ceil(u/a)-1,m=d*r+f;if(this.curIndex=null,m>=0&&o*r>m)this.swapItem(s,m),this.checkResult();else{var p=this.items,S=p[s];S.setOffset(0,0)}}},e.prototype.updateElement=function(){var t=this.ele,e=this.index,s=this.puzzle,i=this.offsetX,n=this.offsetY,o=this.current,r=s.getBounds(),h=s.rows,u=s.cols,c=0|e/u,a=e%u,l=r.width/u,d=r.height/h;if(!t){var f=this;t=this.ele=document.createElement("div"),t.className="item",t.style.width=l+"px",t.style.height=d+"px",t.style.backgroundPosition=-a*l+"px "+-c*d+"px",t.ontouchstart=t.onmousedown=function(t){s.handleDragStart(f.index,t)}}t.className=i||n?"item item-dragging":"item",o&&(t.className+=" item-cur"),t.style.webkitTransform="translate("+(a*l+i)+"px,"+(c*d+n)+"px)"},e.prototype.setIndex=function(t){this.index=t,this.setOffset(0,0)},e.prototype.setOffset=function(t,e){this.offsetX=t,this.offsetY=e,this.updateElement()},e.prototype.setCurrent=function(t){this.current=t,this.updateElement()},window.Puzzle=t}();
</script>
<script>
var CMP={toggleClass:function(e,t){if(!e)throw new Error;var a=e.className;e.className=a.match(t)?a.replace(t,"").trim():a+" "+t},isSupportWbp:function(){var e={basic:"data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA==",lossless:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},t=document.createElement("img");t.src=e.basic;var a=document.createElement("img");return a.src=e.lossless,{basic:2===t.width&&1===t.height,lossless:2===a.width&&1===a.height}},addClass:function(e,t){var a=e.className,r=""!=a?" ":"",i=a+r+t;e.className=i},removeClass:function(e,t){var a=" "+e.className+" ";a=a.replace(/(\s+)/gi," ");var r=a.replace(" "+t+" "," ");r=r.replace(/(^\s+)|(\s+$)/g,""),e.className=r},hasClass:function(e,t){return new RegExp(t).test(e.className)},forEach:function(e,t){var a=Object.prototype.toString.call(e);if("[object Array]"===a||"[object HTMLCollection]"===a||"[object NodeList]"===a)for(var r=0;r<e.length;r++)t.call(e,e[r],r)},getServiceId:function(){var e="dsljflsjflsjflsf";if(window.dttwt2&&dttwt2.getFeedbackDeviceinfo)try{e=JSON.parse(dttwt2.getFeedbackDeviceinfo())}catch(t){}return e},setStorage:function(e,t){var a=CMP.getServiceId();e.type||t({message:"missing type field."}),e.data.length<1&&t({message:"data is empty."}),CMP.ajax({url:"http://op.p2.cmcm.com/api/activity",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e.type,service_id:a,data:e.data})},function(e){0===e?t(null):t({})})},getStorage:function(e,t,a){var r=CMP.getServiceId();CMP.ajax({url:"http://op.p2.cmcm.com/api/activity?type="+e+"&service_id="+r},function(e){0===e.status?a(null,e.data[t]):a({},e[t])})},ajax:function(e,t){var a=Object.prototype.toString,r=e.method||"GET";e.responseType||"json";var i=e.url,n=e.headers,o=e.body;if(e.url){var s=new XMLHttpRequest;if(s.open(r,i,!0),n&&"[object Object]"===a.call(n))for(var c in n)s.setRequestHeader(c,n[c]);s.onload=function(){t(s.response,s)},s.onreadystatechange=function(){},s.onerror=function(){},s.onabort=function(){},o?s.send(o):s.send()}},msToHour:function(e){var t=36e5,a=6e4,r=Math.floor(e/t),i=Math.floor((e-r*t)/a),n=Math.floor((e-r*t-i*a)/1e3);return r=r>9?r:"0"+r,i=i>9?i:"0"+i,n=n>9?n:"0"+n,r+":"+i+":"+n},getParams:function(e){return location.href.replace(new RegExp("^.*[?&]"+e+"=([^&]*).*$|.*"),"$1")},resImg:function(e,t){var a,r=window.devicePixelRatio||1,i={1:"1",1.5:"1.5",2:"2",3:"3"},r=/*i[r]?r:2*/1,n=e.getAttribute("data-dir"),o=e.getAttribute("data-basename"),s=e.getAttribute("data-extname"),c=e.getAttribute("data-ab"),l=e.getAttribute("data-lang");if(window.isSupportWebp&&isSupportWebp.lossless&&e.getAttribute("data-webp-dir")&&(n=e.getAttribute("data-webp-dir"),s=".webp"),c&&(o=o+"-"+random),l){var d={ru:"ru",de:"de",fr:"fr",ko:"ko",ja:"ja",es:"es",en:"en",pt:"pt",ar:"ar",id:"id",it:"it",th:"th",tw:"tw",cn:"cn",tr:"tr",vi:"vi",uk:"uk",pl:"pl","in":"in"};o=o+"-"+(d[t]||"en")}a=n+o+"@"+r+"x"+s,window.IMG_MAP&&IMG_MAP[a]&&(a=IMG_MAP[a]);var p=e.parentNode,u=document.createElement("img");u.src=a,u.id=e.id,u.className=e.className,p.replaceChild(u,e),u.onload=function(){CMP.fixHalfPixel(u)}},preLoadImg:function(e){var t=document.createElement("img");t.src=e},fixHalfPixel:function(e){var t=window.getComputedStyle(e).height.replace("px","");t=Math.ceil(parseFloat(t))},fillZero:function(e,t){for(var a=""+(e||0),r=a.length;t>r;++r)a="0"+a;return a},getDate:function(e,t){return t instanceof Date||(t=new Date),e||(e="YYYY-MM-DD"),e.replace(/YYYY/,t.getFullYear()).replace(/MM/,this.fillZero(t.getMonth()+1,2)).replace(/DD/,this.fillZero(t.getDate(),2)).replace(/H/,this.fillZero(t.getHours(),2)).replace(/M/,this.fillZero(t.getMinutes(),2)).replace(/S/,this.fillZero(t.getSeconds(),2))}};
</script>
<script>
var rsc={getQuery:function(e){return location.href.replace(new RegExp("^.*[?&]"+e+"=([^&]*).*$|.*"),"$1")},getDeviceType:function(){var e=navigator.userAgent;return/iPhone|iPad|iPod/i.test(e)?"ios":"android"},getLang:function(){try{var e=JSON.parse(rs.getDeviceinfo()).language.toLowerCase();return"zh-cn"===e?"cn":0===e.indexOf("zh")?"tw":e.split("-")[0]}catch(n){return"en"}},closeWebView:function(){try{rs.closeWebView()}catch(e){}},openFacebook:function(e){try{rs.openFacebook(e)}catch(n){window.open(e)}},jumpLevelL:function(e){try{rs.jumpToLevel(e)}catch(n){}},sendPrize:function(e,n,t){try{rs.sendPrize(e,n,t)}catch(r){}},isPkInstall:function(e){try{return rs.isPkInstall(e)}catch(n){}}};
</script>
<script>
var T={cn:{t1:"马上挑战",t2:"获得奖励：",t3:"明天再来挑战新拼图！",t4:"每个玩家每天三次机会",t5:"已完成所有拼图！<br/>尝试在新关卡中找到它们！",t6:"马上与我们分享你的看法！",t7:"明日再来"},tw:{t1:"馬上挑戰",t2:"獲得獎勵：",t3:"明天再來挑戰新拼圖！",t4:"每個玩家每天三次機會",t5:"已完成所有拼圖！<br/>嘗試在新關卡中找到它們!",t6:"馬上與我們分享你的看法！",t7:"明日再來"},en:{t1:"Play",t2:"Win the prize:",t3:"Challenge more puzzle tomorrow!",t4:"3 chances per day per player",t5:"All puzzles completed!<br/>Find them in the upcoming level!",t6:"Share your opinions with us!",t7:"Tomorrow"},ru:{t1:"Играть",t2:"Получить приз:",t3:"Больше пазлов",t4:"У каждого 3 попытки в день ",t5:"Все пазлы уже завершены<br/>Найти их в предстоящем уровне",t6:"Делитесь вашим мнением с нами!",t7:"Завтра"},fr:{t1:"Jouez",t2:"Bonus obtenu:",t3:"Plus de puzzles!",t4:"3 chances par jour par joueur",t5:"Tous les puzzles sont finis!<br/>Dans le niveau à venir.",t6:"Condividi tue opinioni con noi",t7:"Demain"},ko:{t1:"플레이",t2:"획득한 보상:",t3:"내일 새로운 퍼즐을 도전하세요",t4:"하루에 3번의 기회(일인당)",t5:"퍼즐을 맞췄습니다!<br/>다음 레벨에서 찾아보세요",t6:"당신의 견해를 바로 공유하기!",t7:"내일"},ja:{t1:"すぐ行く",t2:"プレゼント取得:",t3:"明日新パズルに挑戦!",t4:"毎日三回",t5:"すべてのパズルができた!<br/>新ステージで探してみろ!",t6:"すぐお考えをシェア",t7:"明日"},es:{t1:"Jugar",t2:"Premio obtenido:",t3:"¡Desafíe nuevo puzzle mañana!",t4:"3 oportunidades al día",t5:"¡Todos puzzles están acabados!<br/>¡Intente encontrarlos luego!",t6:"¡Comparta sus opiniones con nosotros!",t7:"Mañana"},de:{t1:"Los",t2:"Gewonnener Preis:",t3:"Morgen wieder herausfordern!",t4:"Ognuno ha 3 volte un giorno",t5:"Alle Puzzeln geschaffen!<br/>Such mal in dem neun Level",t6:"Teil uns deine Meinungen mit!",t7:"Komm morgen"},it:{t1:"Gioca",t2:"Premi ottenuti:",t3:"Sfida domani il nuovo puzzle!",t4:"3 chances per day per player",t5:"Finiti tutti i puzzle!<br/>Prova a trovarli nei nuovi livelli!",t6:"Condividi tue opinioni con noi",t7:"Domani"},nl:{t1:"Spel nu",t2:"Verkrijg prijs:",t3:"Daag nieuwe puzzel morgen!",t4:"Dagelijks 3 kansen per speler",t5:"Alle puzzels zijn afgewerkt!<br/>Zoek ze in de komende level.",t6:"Deel je mening met ons",t7:"Morgen"}};
</script>
<script>
function initialize(){loadLanguage(),setPrizeText(),setPrizeImage(),showPageView()}function getItem(e){return window.localStorage.getItem("rs|2016-12-25|status|"+e)}function setItem(e,t){window.localStorage.setItem("rs|2016-12-25|status|"+e,t)}function initialize(){setLanguage(),setUI(),setEventHandlers(),ga("send","event",eventname,"show","pv")}function setUI(){prizeText.t4="",document.querySelector(".red-point").style.display="none";var e=document.querySelector(".res-img");e.setAttribute("data-dir","img/20161225/"),e.setAttribute("data-basename","002"),e.setAttribute("data-extname",".png"),e.setAttribute("data-lang","true"),CMP.resImg(e,prizeLanguage);document.querySelector(".prize-tip .t2");document.querySelector("#core-main").className="core-main-"+prizeLevel,document.querySelector("#core-tip").innerText=prizeLevel+"/3",document.querySelector(".prize-tip .t1").innerText=prizeText.t2,document.querySelector("#facebook p").innerText=prizeText.t6;var t=document.querySelector("#start .btn-text"),e=(document.querySelector("#start .red-point"),document.querySelector(".prize-tip"),document.querySelector(".res-tip"));t.innerText=prizeText.t1,e.innerText=prizeText.t4,e.style.display="block",p.init(3,3,30)}function setLanguage(){var e=CMP.getParams("lang");prizeLanguage=rsc.getLang(),e&&(prizeLanguage=e),"ar"===prizeLanguage&&(prizeLanguage="en"),prizeText=T[prizeLanguage]}function setEventHandlers(){var e;document.querySelector("#close").addEventListener("click",function(){rsc.closeWebView()}),document.querySelector("#close").addEventListener("touchstart",function(){e=Date.now()}),document.querySelector("#close").addEventListener("touchend",function(){5e3<Date.now()-e&&(localStorage.clear(),alert("clear"))}),document.querySelector("#start a").addEventListener("click",startGame);var t=document.querySelector("#start .btn-text");p.onCountdown=function(e){0<e&&(t.innerText=e+"s")},p.onFail=function(){remainingTries<=1?(document.querySelector(".prize-tip").style.display="none",showFinishedUI()):(document.querySelector("#start a").className="",t.innerText=prizeText.t1),p.init(3,3,30)},p.onPass=function(){ga("send","event",eventname,"show","success"),setItem(prizeLevel,isFinished=!0),showFinishedUI();rsc.sendPrize(2,{1:1,2:3,3:4}[prizeLevel],prizes[prizeLevel]),p.init(3,3,30)},document.querySelector("#facebook a").addEventListener("click",function(){ga("send","event",eventname,"click","facebook");rsc.isPkInstall("fb://");rsc.getDeviceType()})}function startGame(){document.querySelector(".count-down")||(ga("send","event",eventname,"click","play"),p.start(),document.querySelector("#start a").className="count-down")}function showFinishedUI(){"4"==(prizeLevel=(parseInt(prizeLevel)+1).toString())&&(prizeLevel="1"),document.querySelector(".count-down").classList.remove("count-down"),initialize()}function selectElement(e){e=document.querySelectorAll(e);return e.length<=1?e[0]:e}var prizeLanguage="en",prizeText={},p=new Puzzle(selectElement("#core-main")),eventname=CMP.getParams("eventname")||"20161225",lastIndexKey="rs|2016-12-25|lastIndex",lastIndexValue=window.localStorage.getItem(lastIndexKey)||1,indexKey="rs|2016-12-25|index|"+CMP.getDate(),prizeLevel=window.localStorage.getItem(indexKey);prizeLevel||(prizeLevel=getItem(lastIndexValue)&&lastIndexValue<3?parseInt(lastIndexValue)+1:lastIndexValue,window.localStorage.setItem(indexKey,prizeLevel),window.localStorage.setItem(lastIndexKey,prizeLevel));var statusKey="rs|2016-12-25|status|"+prizeLevel,isFinished=window.localStorage.getItem(statusKey)||!1,timesKey="rs|2016-12-25|times|"+CMP.getDate(),remainingTries=window.localStorage.getItem(timesKey)||3,prizes={1:20,2:2,3:1};initialize();
</script>
</body>
</html>