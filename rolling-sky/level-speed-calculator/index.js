var wavesurfer=WaveSurfer.create({container:"#waveform",waveColor:"#abc8ff",progressColor:"#567fcc",cursorColor:"#ffffff"});function readAudioFile(e){e=e.files[0];const r=new FileReader;r.onloadend=function(){var e=r.result;wavesurfer.load(e)},e&&r.readAsDataURL(e)}wavesurfer.load("Space-Walk.wav"),Number.prototype.clamp=function(e,r){return this<e?e:r<this?r:this},window.addEventListener("keydown",e=>{if("VIDEO"!=document.activeElement.tagName)return" "===e.key.toLowerCase()?(document.activeElement.blur(),wavesurfer.playPause(),e.preventDefault(),!1):void 0});let startspeed=document.querySelector("#startspeed"),p_seconds=document.querySelector("#p_seconds"),p_row=document.querySelector("#p_row"),i_row=document.querySelector("#i_row"),rowsPerSecond=document.querySelector("#rowspersecond");var sv,ev,lr,es,wst=0,isFirstFrame=!0;const update=(e=!1)=>{if(!e){if(!wavesurfer.isPlaying()&&!isFirstFrame)return;isFirstFrame=isFirstFrame&&!1}window.wst=wavesurfer.getCurrentTime(),p_seconds.innerHTML=wst.toFixed(2),window.sv=parseFloat(startspeed.value),p_row.value=rowFloat.toFixed(2),i_row.innerHTML=Math.round(rowFloat)};setInterval(update),wavesurfer.container.children[0].addEventListener("mouseup",wsav),wavesurfer.container.children[0].addEventListener("touchend",wsav),p_row.addEventListener("input",e=>{p_row.value=p_row.value.replace(/[^0-9.]/g,""),wavesurfer.setCurrentTime(t_wst.clamp(0,wavesurfer.getDuration()))}),p_row.addEventListener("change",e=>{wsa.action(2)});